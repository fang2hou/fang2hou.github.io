<!doctype html><html dir=ltr lang=zh-cn data-theme><head><title>fang2hou | 在树莓派上安装配置 Raspbian</title><meta charset=utf-8><meta name=generator content="Hugo 0.81.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=description content="硕士研究生 @ 筑波大学
全栈工程师
"><link rel=stylesheet href=/css/main.min.f79a5de55310cc058fc81804d033ddb955937d778bd533d9ea05b1c798501013.css integrity="sha256-95pd5VMQzAWPyBgE0DPduVWTfXeL1TPZ6gWxx5hQEBM=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/markupHighlight.min.f7543874fd85ac54022e92bff1f3e54326ad7a136685439729114cd42b44ed2c.css integrity="sha256-91Q4dP2FrFQCLpK/8fPlQyatehNmhUOXKRFM1CtE7Sw=" crossorigin=anonymous type=text/css><link rel=stylesheet href=/css/fang2hou.min.3296d14717c4a9ba650c1d7b8968751d67720f2a33c1d0579fe7625449be209c.css integrity="sha256-MpbRRxfEqbplDB17iWh1HWdyDyozwdBXn+diVEm+IJw=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin=anonymous><link rel="shortcut icon" href=/favicons/favicon.ico type=image/x-icon><link rel=apple-touch-icon sizes=180x180 href=/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicons/favicon-16x16.png><link rel=canonical href=/post/install-raspberry-pi-3-raspbian/><script type=text/javascript src=/js/anatole-header.min.0c05c0a90d28c968a1cad4fb31abd0b8e1264e788ccefed022ae1d3b6f627514.js integrity="sha256-DAXAqQ0oyWihytT7MavQuOEmTniMzv7QIq4dO29idRQ=" crossorigin=anonymous></script><script type=text/javascript src=/js/anatole-theme-switcher.min.7fd87181cdd7e8413aa64b6867bb32f3a8dc242e684fc7d5bbb9f600dbc2b6eb.js integrity="sha256-f9hxgc3X6EE6pktoZ7sy86jcJC5oT8fVu7n2ANvCtus=" crossorigin=anonymous></script><script type=text/javascript src=/js/custom.min.690f1ddb8799856cb1eba93ecb8ac2f1fccdf234bd330ce5132d13159df76851.js integrity="sha256-aQ8d24eZhWyx66k+y4rC8fzN8jS9MwzlEy0TFZ33aFE=" crossorigin=anonymous></script><meta name=twitter:card content="summary"><meta name=twitter:title content="在树莓派上安装配置 Raspbian"><meta name=twitter:description content="简介
Raspbian —— 一个专门用于树莓派的 Debian 分支，且唯一获得树莓派官方支持的系统。
本文将介绍在不同的主流操作系统中安装 Raspbian 的多种方法，你可以选择最适合自己的方式进行安装。
准备

树莓派 (Raspberry Pi)
SD 卡及读卡器
控制工具（选一个即可，也可无线）

网线
HDMI 线 + 显示屏 + 键盘


"></head><body><div class="sidebar animated fadeInDown"><div class=logo-title><div class=title><div class=avatar><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 61.47 85.63"><defs><style>.cls-1,.cls-2{fill:none}.cls-1,.cls-2,.cls-3,.cls-4{stroke:#231f20;stroke-miterlimit:10}.cls-2,.cls-4{stroke-linecap:round}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="Layer_1-2" data-name="Layer 1"><path class="cls-1" d="M31.91 85.13c6.64-.19 11.15-5 14.08-8.15a34.76 34.76.0 008-15.11c1.09-4 .87-8.1 1.51-12.18C56.08 46 56.84 45.12 58 41l.13-.45a111.64 111.64.0 002.81-13.95c.46-6.7-4.42-14.78-10.36-19.65C41-1 29.61.49 27 .83A32.75 32.75.0 008.66 9.72c-2.31 2.26-6.13 6-7.56 12-2 8.23 1.37 17.47 3.26 21 0 .09.4.79.79 1.78.0.0.32.79.59 1.61A37.5 37.5.0 017.13 54.5 38.17 38.17.0 009.84 65.87a31.37 31.37.0 008.3 12.74c2.86 2.56 7.46 6.7 13.77 6.52z"/><path class="cls-2" d="M52.5 36.25c-5.33-5.34-14.37-1.81-14.37-1.81"/><path class="cls-2" d="M10.33 36.25c5.33-5.34 14.37-1.81 14.37-1.81"/><path class="cls-1" d="M15.74 54.45c.28.07 6.37 1.43 10.24-2.84.18-.19 3.84-4.33 2.25-7.91-1.45-3.28-6.19-3.59-8.86-3.77-3.5-.23-9.22.44-10.18 3.27a8.9 8.9.0 00.16 2.27c0 .1.0.21.0.32a33.7 33.7.0 001.13 5.31C11.85 53.51 14.8 54.22 15.74 54.45z"/><path class="cls-1" d="M47.28 54.45c-.28.07-6.36 1.43-10.23-2.84-.18-.19-3.84-4.33-2.25-7.91 1.45-3.28 6.18-3.59 8.86-3.77 3.5-.23 9.22.44 10.18 3.27.24.73-.93 7.16-1.34 7.9C51.18 53.51 48.23 54.22 47.28 54.45z"/><line class="cls-1" x1="28.63" y1="45.79" x2="34.4" y2="45.79"/><path class="cls-2" d="M23.51 69a24.85 24.85.0 007.92 1.55 23.63 23.63.0 008.09-1.39"/><path class="cls-1" d="M58 41a11.27 11.27.0 011.32 3.14c.55 2.19.23 4-.44 7.41-.75 3.86-1.47 4.87-1.89 5.37a7.73 7.73.0 01-2.39 1.9"/><path class="cls-2" d="M3.79 41a10.7 10.7.0 00-1.32 3.14c-.55 2.19-.23 4 .44 7.41.75 3.86 1.47 4.87 1.89 5.37a7.71 7.71.0 002.38 1.9"/><path class="cls-3" d="M50.58 6.9C41-1 29.61.49 27 .83A32.75 32.75.0 008.66 9.72c-2.31 2.26-6.13 6-7.56 12-2 8.23 1.37 17.47 3.26 21 0 .09.4.79.79 1.78.0.0.32.79.59 1.61.21.66.39 1.34.54 2a21 21 0 00.6-3.65c.24-3.61-.86-4-.74-8.74.06-2.47.24-9.92 4.15-11.85 1.55-.77 2.42.0 5.18.15 9.35.63 19.67-6.32 23.26-8.74a3.39 3.39.0 012.07-.89c3.55.18 3.42 9.28 10.37 14.37 1.78 1.3 2.32 1.1 3.41 2.37 3 3.48 1.28 7.75 2.08 11.41A7.72 7.72.0 0057.07 44c.28-.82.58-1.77.93-3l.13-.45a111.64 111.64.0 002.81-13.95C61.4 19.85 56.52 11.77 50.58 6.9z"/><path class="cls-2" d="M26.18 59.9a3.44 3.44.0 011.28-.18c1 .07 1.28.66 2.23 1.05a4.91 4.91.0 003.19.0c1.13-.39 1.24-1 2.26-1.21a3.5 3.5.0 012.06.31"/><path class="cls-1" d="M6.4 48.74c-.74-2.83 2.95-3.27 2.95-3.27"/><path class="cls-1" d="M55.82 48a2.57 2.57.0 00-2.07-3.1"/><path class="cls-2" d="M24.33 45.6c-1.82-2.56-8.19-1.65-9-.25"/><path class="cls-4" d="M18.63 45.58c0 1.83 3.05 1.83 3 0s-3.03-1.83-3 0z"/><path class="cls-2" d="M39.62 45.3c1.82-2.56 8.19-1.65 9-.24"/><path class="cls-4" d="M45.32 45.28c0 1.84-3 1.84-3 0s3.03-1.83 3 0z"/></g></g></svg></div><h3 title><a href=/>方舟</a></h3><div class=description><p>硕士研究生 @ 筑波大学<br>全栈工程师<br></p></div></div></div><ul class=social-links><li><a href=https://www.linkedin.com/in/zhou-fang-cn/ rel=me aria-label=Linkedin><i class="fab fa-linkedin fa-2x" aria-hidden=true></i></a></li><li><a href=https://github.com/fang2hou/ rel=me aria-label=GitHub><i class="fab fa-github fa-2x" aria-hidden=true></i></a></li><li><a href=https://twitter.com/fang2hou rel=me aria-label=twitter><i class="fab fa-twitter fa-2x" aria-hidden=true></i></a></li><li><a href=mailto:iszhoufang@gmail.com rel=me aria-label=e-mail><i class="fas fa-envelope fa-2x" aria-hidden=true></i></a></li></ul><div class=footer><div class=lang-switcher><p id=lang-notification></p><ul><li><a href=https://fang2hou.com/ onmouseover='languageNotify("中文")' onmouseleave=languageNotify(null) onclick='setLanguage("zh-cn")'><img class=flag src=/images/flags/zh-cn.svg></a></li><li><a href=https://fang2hou.com/ja/ onmouseover='languageNotify("日本語")' onmouseleave=languageNotify(null) onclick='setLanguage("ja")'><img class=flag src=/images/flags/ja.svg></a></li><li><a href=https://fang2hou.com/en/ onmouseover='languageNotify("English")' onmouseleave=languageNotify(null) onclick='setLanguage("en")'><img class=flag src=/images/flags/en.svg></a></li></ul></div><div class=author>&copy; fang2hou 2012-2021</div></div></div><div class=main><div class="page-top animated fadeInDown"><a role=button class=navbar-burger data-target=navMenu aria-label=menu aria-expanded=false><span aria-hidden=true></span><span aria-hidden=true></span><span aria-hidden=true></span></a><ul class=nav id=navMenu><li><a href=/ title>关于</a></li><li><a href=/post/ title>文章</a></li><li><a href=/project/ title>项目</a></li><li class=lang-switcher-nav><a href=/ title=中文><img class=flag src=/images/flags/zh-cn.svg> 中文</a></li><li class=lang-switcher-nav><a href=/ja/ title=日本語><img class=flag src=/images/flags/ja.svg> 日本語</a></li><li class=lang-switcher-nav><a href=/en/ title=English><img class=flag src=/images/flags/en.svg> English</a></li><li class=theme-switch-item><a class=theme-switch title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></li></ul></div><div class=autopagerize_page_element><div class=content><div class="post animated fadeInDown"><div class=post-content><div class=post-title><h3>在树莓派上安装配置 Raspbian</h3><div class=info>📅&nbsp;
<span class=date>2018 年 11 月 12 日</span>
📖&nbsp;
<span class=reading-time>阅读时间 2 分钟</span></div></div><h1 id=简介>简介</h1><p><code>Raspbian</code> —— 一个专门用于树莓派的 Debian 分支，且唯一获得树莓派官方支持的系统。<br>本文将介绍在不同的主流操作系统中安装 <code>Raspbian</code> 的多种方法，你可以选择最适合自己的方式进行安装。</p><h1 id=准备>准备</h1><ol><li>树莓派 (Raspberry Pi)</li><li>SD 卡及读卡器</li><li>控制工具（选一个即可，也可无线）<ul><li>网线</li><li>HDMI 线 + 显示屏 + 键盘</li></ul></li></ol><h1 id=安装>安装</h1><h2 id=下载镜像>下载镜像</h2><p>首先，从 <strong><a href=https://www.raspberrypi.org/downloads/raspbian/>官方镜像网站</a></strong> 下载最新的 Raspbian 操作系统。</p><p>其中，</p><ol><li><code>Raspbian Stretch with desktop and recommended software</code> 是自带了 LXDE，我的世界等一系列软件的开箱即用版本。</li><li><code>Raspbian Stretch with desktop</code> 是自带了 LXDE，及必要的开发工具的开箱即用版本。</li><li><code>Raspbian Stretch Lite</code> 是一个精简版本，自带了常用的库，开发工具，但是没有桌面和 GUI 程序。</li></ol><p>个人强烈推荐第三个版本，因为就算想使用桌面也可通过 <code>aptitude</code> 很方便得进行安装，而开箱即用版本中存在的大量软件都是不常用的（如游戏，LibreOffice）。如果不熟悉纯命令行界面，第二个轻量桌面版本也是很推荐的。</p><p>3 个版本核心部分是一样的，所以在版本选择上不要有太大压力。</p><h2 id=烧录>烧录</h2><p>请根据操作系统来选择性的阅读本节。</p><h3 id=windows-篇>Windows 篇</h3><p>Windows 下使用需要使用以下 2 个免费软件：</p><ol><li><a href=https://www.sdcard.org/chs/downloads/formatter_4/eula_windows/index.html>SD 卡格式化工具</a></li><li><a href=https://zh.osdn.net/projects/sfnet_win32diskimager/downloads/Archive/Win32DiskImager-1.0.0-binary.zip/>Win32 Disk Imager</a></li></ol><p>在安装/解压软件后，我们就可以开始实际的烧录工作了。</p><ol><li>解压 Zip 压缩包，得到镜像文件 (.img)。</li><li>打开 <code>SD 卡格式化工具</code>，选择打算用作树莓派系统的 SD 卡，点击 <code>格式化</code> 按钮。<br>不需要任何特殊设置，直接格式化即可。</li><li>打开 <code>Win32 Disk Imager</code>，点击蓝色的文件夹图标，选择镜像（.img），点击 <code>Write</code> 按钮开始写入。<br>不需要任何特殊设置，直接写入。如果你比较在意 MD5 验证，可根据下载页面上的 MD5 进行验证。</li></ol><h3 id=macos-篇>macOS 篇</h3><p>macOS 下不需要安装任何工具即可烧录。</p><ol><li>解压 Zip 压缩包，得到镜像文件 (.img)。<br><code>unzip</code> 命令，或是其他解压工具。</li><li>打开 <code>终端</code>，执行命令来获取各磁盘的信息。</li></ol><pre><code class=language-shell>diskutil list
</code></pre><ol start=3><li>找到打算用作树莓派系统的 SD 卡，比如我的是 <code>/dev/disk2</code>。</li><li>执行命令，来格式化 SD 卡。<br>语法为 <code>diskutil eraseDisk &lt;文件系统> &lt;新磁盘名> &lt;磁盘></code><br>下方是我的例子：</li></ol><pre><code class=language-shell>sudo diskutil eraseDisk FAT32 RPIBOOT /dev/disk2
</code></pre><ol start=5><li>执行命令，来卸载磁盘用于后续烧录。<br>语法为 <code>diskutil unmountDisk &lt;磁盘></code><br>下方是我的例子：</li></ol><pre><code class=language-shell>sudo diskutil unmountDisk /dev/disk2
</code></pre><ol start=6><li>执行命令，烧录镜像。建议在镜像所在的文件夹执行，比较方便。<br>语法为 <code>dd bs=1m if=&lt;.img 镜像文件> of=&lt;磁盘路径> conv=sync</code><br>下方是我的例子：</li></ol><pre><code class=language-shell>sudo dd bs=1m if=2018-10-09-raspbian-stretch-lite.img of=/dev/rdisk2 conv=sync
</code></pre><h1 id=配置>配置</h1><h2 id=ssh-配置>SSH 配置</h2><p>在烧录完成之后，在 SD 卡根目录下建立一个名为 <code>ssh</code> 的空文件，这样在系统启动的时候，树莓派会自动启用 SSH 功能。</p><h2 id=连接到树莓派>连接到树莓派</h2><p>第一次连接的时候，只有 3 种方式连接到树莓派。</p><ol><li>网线连接到本地网络。</li><li>使用 HDMI 线接入屏幕。</li><li>配置无线网卡连接到本地无线网络。（无头模式）</li></ol><p>下面我就 3 种方式分别来介绍下连入方式。</p><p><strong>切记：Raspbian 默认账户为 <code>pi</code>，对应的密码是 <code>raspberry</code>。</strong></p><h3 id=网线连接篇>网线连接篇</h3><ol><li>使用网线连接的其实也有很多种，但是不论你是通过路由器连接，还是直接接入电脑，我相信你都可以通过下面的命令来找到你的树莓派网络地址/主机名：</li></ol><pre><code class=language-shell>arp -a
</code></pre><ol start=2><li>因为我们刚才已经配置了 SSH 远程连接，所以，我们可以直接用下面的命令来连接到树莓派。<ul><li>Windows</li></ul><pre><code class=language-shell>ssh pi@respberrypi
</code></pre><ul><li>macOS</li></ul><pre><code class=language-shell>ssh pi@respberrypi.lan
</code></pre><ul><li>如果网络设备名都不能获取到，用 IP 地址连接</li></ul><pre><code class=language-shell>ssh pi@&lt;树莓派 IP&gt;
</code></pre></li><li>登入 Raspbian 之后，用下面的命令运行树莓派自带的设置工具</li></ol><pre><code class=language-shell>sudo raspi-config
</code></pre><ol start=4><li>选择 <code>Network Options</code>-<code>Wi-Fi</code>，添加无线网络的 SSID 及密码。</li><li>记得同时设定时区（Timezone）。</li><li>退出树莓派设定工具，用 <code>reboot</code> 重启机器，拔掉网线。</li></ol><h3 id=hdmi-连接篇>HDMI 连接篇</h3><blockquote><p>如果你是桌面版本的 Raspbian，直接通过左上菜单中的 <code>Menu</code>-<code>Preferences</code>-<code>Raspberry Pi Configuration</code>设定更加简便。</p></blockquote><ol><li>登入 Raspbian 之后，用下面的命令运行树莓派自带的设置工具。</li></ol><pre><code class=language-shell>sudo raspi-config
</code></pre><ol start=2><li>选择 <code>Network Options</code>-<code>Wi-Fi</code>，添加无线网络的 SSID 及密码。</li><li>记得同时设定时区（Timezone）。</li><li>退出树莓派设定工具，用 <code>reboot</code> 重启机器，拔掉网线。</li></ol><h2 id=无头模式设定树莓派>无头模式设定树莓派</h2><p><strong>如果你无任一连接线，可以选择通过这个方法直接设定 Wifi。</strong></p><ol><li>在 SD 卡根目录下建立一个 <code>wpa_supplicant.conf</code> 文件：</li></ol><pre><code class=language-shell>country=JP
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev
update_config=1
network={
    ssid=&quot;&lt;Wi-Fi 名&gt;&quot;
    psk=&quot;&lt;Wi-Fi 密码&gt;&quot;
}
</code></pre><ol start=2><li>使用网线连接的其实也有很多种，但是不论你是通过路由器连接，还是直接接入电脑，我相信你都可以通过下面的命令来找到你的树莓派网络地址/主机名：</li></ol><pre><code class=language-shell>arp -a
</code></pre><ol start=3><li>因为我们刚才已经配置了 SSH 远程连接，所以，我们可以直接用下面的命令来连接到树莓派。<ul><li>Windows</li></ul><pre><code class=language-shell>ssh pi@respberrypi
</code></pre><ul><li>macOS</li></ul><pre><code class=language-shell>ssh pi@respberrypi.lan
</code></pre><ul><li>如果网络设备名都不能获取到，用 IP 地址连接</li></ul><pre><code class=language-shell>ssh pi@&lt;树莓派 IP&gt;
</code></pre></li></ol><h2 id=vnc-配置>VNC 配置</h2><p>VNC 是一个带图像的远程控制工具，如果你需要使用，可以在树莓派设定工具中启用 VNC 支持，然后下载一个 VNC 客户端连接即可。</p><h1 id=常用软件>常用软件</h1><h2 id=python-3>Python 3</h2><p>安装用于 Python3 的 pip，且添加 GPIO 支持。<br>之前有过因为忘记添加 Python 3 的 GPIO 包导致无法控制电机，囧。</p><pre><code class=language-shell>sudo apt install python3-pip
pip3 install RPi.GPIO
</code></pre><h2 id=go>Go</h2><ol><li>下载编译后的 Go 包<br>在 <a href=https://golang.org/dl/>Go 官方下载页面</a> 中找到 ARMv6 平台的 Linux 版本下载地址。<br>更新此文时，适用于 ARMv6 的 Go 版本号为 1.11.5，我们可以用 <code>wget</code> 快速下载</li></ol><pre><code class=language-shell>wget https://dl.google.com/go/go1.11.5.linux-armv6l.tar.gz
</code></pre><ol start=2><li>解包到 <code>/usr/local</code>。</li></ol><pre><code class=language-shell>tar -C /usr/local -xzf go1.11.5.linux-armv6l.tar.gz
</code></pre><ol start=3><li>添加 Go 二进制文件目录到环境变量<br>如果在上一步放置 Go 到了其他地方，别忘了下面命令的目录地址要跟着改。</li></ol><pre><code class=language-shell>echo &quot;export PATH=$PATH:/usr/local/go/bin&quot; &gt;&gt; ~/.profile
</code></pre><ol start=4><li>重新读取 Shell 配置</li></ol><pre><code class=language-shell>source .profile
</code></pre><h2 id=git>Git</h2><p>Git 版本控制。</p><pre><code class=language-shell>sudo apt install git
</code></pre><h2 id=vim>Vim</h2><p>非常强大又方便的编辑器。</p><pre><code class=language-shell>sudo apt install vim
</code></pre><h2 id=zsh>Zsh</h2><p>通过 Aptitude 安装，且添加 <code>Oh-my-zsh</code> 项目</p><pre><code class=language-shell>sudo apt install zsh git
sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
</code></pre><h2 id=xfce4>Xfce4</h2><p>如果你是 Lite 版本的用户，且同时想要一个桌面，我这里推荐安装 Xfce4，占用低，效果也不错。</p><pre><code class=language-shell>sudo apt install xfce4
</code></pre><h1 id=参考文献>参考文献</h1><ol><li><a href=https://hirazakura.hatenablog.com/entry/raspberrypi/setup/first>Raspberry Pi 3（RASPBIAN JESSIE）OS インストールから初期設定【セットアップ前編 】</a></li><li><a href="https://www.youtube.com/watch?v=kiXotzK5eSQ">2. How to configure Raspberry-Pi using sudo raspi-config - Youtube</a></li><li><a href=https://golang.org/doc/install>Getting Started - The Go Programming Language</a></li></ol></div><div class=post-footer><div class=info><span class=separator><a class=tag href=/tags/raspberry-pi/>Raspberry Pi</a></span></div></div></div></div></div></div><script type=text/javascript src=/js/medium-zoom.min.83cb1dd5fea8d42d87d1e601a07faa73089ad0ef9ccfe5daf6041289ebcc4e46.js integrity="sha256-g8sd1f6o1C2H0eYBoH+qcwia0O+cz+Xa9gQSievMTkY=" crossorigin=anonymous></script></body></html>